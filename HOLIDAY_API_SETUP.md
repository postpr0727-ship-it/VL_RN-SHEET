# 공휴일 자동 업데이트 설정 가이드

## 현재 구현 상태

공휴일 시스템은 다음과 같이 작동합니다:

1. **기본 공휴일 데이터 사용**: 2024-2040년까지 하드코딩된 공휴일 데이터를 사용합니다.
2. **API 자동 연동**: 공공데이터포털 API 키가 설정되어 있으면 자동으로 최신 공휴일 정보를 가져옵니다.
3. **캐싱**: 공휴일 데이터는 localStorage에 30일간 캐시됩니다.

## 공공데이터포털 API 설정 (선택사항)

### 1. API 키 발급

1. [공공데이터포털](https://www.data.go.kr)에 회원가입 및 로그인
2. "한국천문연구원_특일 정보" 검색
3. API 신청 및 인증키 발급

### 2. 환경변수 설정

프로젝트 루트에 `.env` 파일 생성:

```env
VITE_PUBLIC_DATA_API_KEY=발급받은_API_키
```

### 3. CORS 문제 해결

공공데이터포털 API는 브라우저에서 직접 호출 시 CORS 오류가 발생할 수 있습니다.

**해결 방법:**

1. **Vite 프록시 설정** (개발 환경):
   - `vite.config.ts`에 프록시 설정 추가
   
2. **서버 사이드 프록시** (프로덕션):
   - 백엔드 서버에서 API 호출 후 프론트엔드에 제공
   - 또는 Vercel Functions, Netlify Functions 등 사용

## 자동 업데이트 동작 방식

1. **초기 로드**: 기본 공휴일 데이터를 즉시 표시
2. **백그라운드 업데이트**: API에서 최신 데이터를 비동기로 가져옴
3. **캐시 활용**: 30일 내 캐시된 데이터가 있으면 API 호출 생략
4. **Fallback**: API 실패 시 기본 데이터 계속 사용

## 수동 업데이트

API 없이도 공휴일 데이터를 수동으로 업데이트할 수 있습니다:

- `src/utils/holidays.ts` 파일의 `HOLIDAY_DEFINITIONS` 객체 수정
- 새로운 연도 추가 또는 기존 공휴일 수정

## 참고사항

- API 키가 없어도 앱은 정상 작동합니다 (기본 데이터 사용)
- 공휴일은 매년 정부에서 발표하므로, API를 사용하는 것이 가장 정확합니다
- 음력 공휴일(설날, 추석)은 매년 날짜가 달라집니다

